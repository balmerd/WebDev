<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>SAIC Web Dev</title>
	<meta name="description" content="Tools and techniques for SAIC web developers">
	<meta name="author" content="david.b.balmer@saic.com">

	<meta name="viewport" content="width=device-width">

	<link rel="shortcut icon" href="favicon.ico">

	<link rel="stylesheet" href="css/html5-boilerplate.css">
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.8.24/themes/flick/jquery-ui.css" />
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Ubuntu:400,500,700,700italic">
	<link rel="stylesheet" href="css/style.css?v=1">

    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>

	<header role="banner">SAIC Web Dev <span></span></header>

	<nav role="navigation" class="top clearfix">
		<button name="home">Home</button>
		<button name="widgets" data-url="views/widgets/index.htm">Widgets</button>
		<button name="patterns" data-url="views/patterns/index.htm">Patterns</button>
		<button name="techniques" data-url="views/techniques/index.htm">Techniques</button>
		<button name="projects" data-url="views/projects/index.htm">Projects</button>
		<button name="reference" data-url="views/reference/index.htm">Reference</button>
	</nav>

	<section role="main" class="content">
		<article class="home">
			<fieldset>
				<legend>localhost</legend>
				<a class="button" target="_blank" href="http://localhost/511Traffic2.0/Index.mvc">Traffic</a>
				<a class="button" target="_blank" href="http://localhost/511Traffic2.0/testframe.htm">Traffic Unit Tests</a>
				<a class="button" target="_blank" href="http://localhost/511Traffic2.0/Parking/Index.mvc">Parking</a>
				<a class="button" target="_blank" href="http://localhost/511Traffic2.0/Areas/Parking/testframe.htm">Parking Unit Tests</a>
			</fieldset>
			<fieldset>
				<legend>map1-2.lan.511.org</legend>
				<a class="button" target="_blank" href="http://trafficweb1.511.org">Traffic</a>
				<a class="button" target="_blank" href="http://trafficweb1.511.org/testframe.htm">Traffic Unit Tests</a>
				<a class="button" target="_blank" href="http://trafficweb1.511.org/Parking/Index">Parking</a>
				<a class="button" target="_blank" href="http://trafficweb1.511.org/Areas/Parking/testframe.htm">Parking Unit Tests</a>
				<a class="button" target="_blank" href="http://trafficadmin1.511.org">Traffic Admin (legacy)</a>
				<a class="button" target="_blank" href="http://traffic30.511.org">Traffic with HOV Lanes, CMS Signs, TrafficLand Cameras and Promo boxes from database</a>
				<a class="button" target="_blank" href="http://trafficadmin1.511.org">CMS Admin site for Promo Boxes and Alerts</a>
			</fieldset>
			<fieldset>
				<legend>map2-2.lan.511.org</legend>
				<a class="button" target="_blank" href="http://trafficweb2.511.org">Traffic</a>
				<a class="button" target="_blank" href="http://trafficweb2.511.org/testframe.htm">Traffic Unit Tests</a>
				<a class="button" target="_blank" href="http://trafficweb2.511.org/Parking/Index">Parking</a>
				<a class="button" target="_blank" href="http://trafficweb2.511.org/Areas/Parking/testframe.htm">Parking Unit Tests</a>
				<a class="button" target="_blank" href="http://trafficadmin2.511.org">Traffic Admin (legacy)</a>
			</fieldset>
			<fieldset>
				<legend>map3-2.lan.511.org</legend>
				<a class="button" target="_blank" href="http://trafficweb3.511.org">Traffic</a>
				<a class="button" target="_blank" href="http://trafficweb3.511.org/testframe.htm">Traffic Unit Tests</a>
				<a class="button" target="_blank" href="http://trafficweb3.511.org/Parking/Index">Parking</a>
				<a class="button" target="_blank" href="http://trafficweb3.511.org/Areas/Parking/testframe.htm">Parking Unit Tests</a>
				<a class="button" target="_blank" href="http://trafficadmin3.511.org">Traffic Admin (legacy)</a>
			</fieldset>
		</article>
		<article class="widgets hidden">
			<nav role="navigation" class="side clearfix">
				<a class="button" target="_blank" href="DateTimePicker/index.htm" title="opens in new page">DateTime Picker (cannot select date or time before current)</a>
			</nav>
			<div class="content"></div>
		</article>
		<article class="patterns hidden">
			<nav role="navigation" class="side clearfix">
				<button name="singleton" data-url="views/patterns/singleton.htm">Singleton</button>
				<button name="module" data-url="views/patterns/module.htm">Module</button>
				<button name="revealing-module" data-url="views/patterns/revealing-module.htm">Revealing Module</button>
			</nav>
			<div class="content"></div>
		</article>
		<article class="techniques hidden">
			<nav role="navigation" class="side">
				<button name="namespacing" data-url="views/techniques/namespacing.htm">Namespacing</button>
				<button name="string-builder" data-url="views/techniques/string-builder.htm">StringBuilder and String.format</button>
				<button name="attribute-compression" data-url="views/techniques/attribute-compression.htm">Attribute Compression</button>
				<button name="wait-for-dom-content" data-url="views/techniques/wait-for-dom-content.htm">Wait for DOM Content</button>
				<button name="find-event-handlers" data-url="views/techniques/find-event-handlers.htm">Find DOM Event Handlers</button>
			</nav>
			<div class="content"></div>
		</article>
		<article class="projects hidden">
			<nav role="navigation" class="side clearfix">
				<a class="button" target="_blank" href="TaskBoard/index.htm" title="opens in new page">TaskBoard using Lawnchair DOM persistence</a>
				<a class="button" target="_blank" href="BugList/index.htm" title="opens in new page">BugList</a>
				<button name="ember" data-url="views/projects/ember/index.htm">Ember.js Notes</button>
				<a class="button" target="_blank" href="BrownBag/handlebars-example.htm" title="opens in new page">Ember.js Brown Bag</a>
				<button name="ember-references" data-url="views/projects/ember/references.htm">Ember.js References</button>
				<a class="button" target="_blank" href="http://localhost/IRADMVC/Index.mvc" title="opens in new page">IRAD MVC Prototype</a>
				<a class="button" target="_blank" href="YQL/index.htm" title="use Yahoo! Query Language to return cross-domain page contents, opens in new page">YQL Query</a>
				<a class="button" target="_blank" href="http://localhost/BRIAN/index.html" title="opens in new page">Brian's Portfolio</a>
				<a class="button" target="_blank" href="http://localhost/NATGEOTING/index.html" title="opens in new page">NatGeo 'ting</a>
				<a class="button" target="_blank" href="TestCases/index.htm" title="opens in new page">Traffic TestCases</a>
				<a class="button" target="_blank" href="IRADMarkup/index.html" title="opens in new page">IRAD Markup</a>
			</nav>
			<div class="content"></div>
		</article>
		<article class="reference hidden">
			<nav role="navigation" class="side">
				<button name="ebooks" data-url="views/reference/index.htm">eBooks</button>
				<button name="javascript" data-url="views/reference/javascript.htm">JavaScript</button>
				<button name="aspnet-mvc" data-url="views/reference/aspnet-mvc.htm">ASP.NET MVC</button>
				<button name="html5-css3" data-url="views/reference/html5-css3.htm">HTML5 and CSS3</button>
				<button name="csharp-dot-net" data-url="views/reference/csharp-dot-net.htm">C# and .NET</button>
				<button name="cloud" data-url="views/reference/cloud.htm">Cloud Computing</button>
				<button name="iis" data-url="views/reference/iis.htm">IIS</button>
				<button name="security" data-url="views/reference/security.htm">Security</button>
				<button name="silverlight" data-url="views/reference/silverlight.htm">Silverlight</button>
				<button name="misc" data-url="views/reference/misc.htm">Miscellaneous</button>
				<button name="docs" data-url="views/reference/docs.htm">Docs</button>
				<button name="tools" data-url="views/reference/tools.htm">Tools</button>
			</nav>
			<div class="content"></div>
		</article>
	</section>

	<!--footer role="contentinfo"></footer-->
	
	<script src="http://code.jquery.com/jquery.min.js"></script>
	<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.min.js"></script>
	<script src="js/jquery.ba-hashchange.min.js"></script>
	<script src="js/plugins.js"></script>

	<script>
		$(function() {

			$.ajaxSetup({ cache: false }); // content from .htm files in the views folder using $.load()

			$('a.button').button().click(function() { // external links
				$(this).blur();
			});

			$('button').button().click(function() { // internal links
				location.hash = $(this).attr('name');
				$(this).blur();
			});

			// bind the hashchange event
			$(window).hashchange(function(){
				
				var selection = location.hash.replace('#','');
				var contentUrl = $('button[name={0}]'.format(selection)).attr('data-url');
				
				var contentReady = function() {
					// remove "hidden" property from parent eg:"article.projects"
					$(this).parent().removeClass('hidden').end().find('pre').each(function(index, tag) {
						// escape tags inside of the <pre> elements in tag(this) eg: "article.projects div.content"
						// NOTE: tags must be matched ie: </select> without a matching <select> will not work
						$(tag).html($(tag).html().replace(/\</g, '&lt;').replace(/\>/g, '&gt;'));
						// adjust position of any stickie associated with this <pre> tag
						$('.stickie:eq(' + index + ')').css({top: $(tag).offset().top + 5}).show(); // plus 5 for margin-top
					});
				};

				// hide other articles and remove their content
				$('article').addClass('hidden').find('div.content').empty();

				switch (selection.toUpperCase()) {
					case 'WIDGETS':
						$('article.widgets div.content').load(contentUrl, function() {
							$('header span').text('~ Widgets');
							contentReady.call(this);
						});
						break;
					case 'PATTERNS':
					case 'SINGLETON':
					case 'MODULE':
					case 'REVEALING-MODULE':
						$('article.patterns div.content').load(contentUrl, function() {
							$('header span').text('~ Patterns');
							contentReady.call(this);
						});
						break;
					case 'TECHNIQUES':
					case 'NAMESPACING':
					case 'ATTRIBUTE-COMPRESSION':
					case 'WAIT-FOR-DOM-CONTENT':
					case 'FIND-EVENT-HANDLERS':
					case 'STRING-BUILDER':
						$('article.techniques div.content').load(contentUrl, function() {
							$('header span').text('~ Techniques');
							contentReady.call(this);
						});
						break;
					case 'PROJECTS':
					case 'TEST-RUNNER':
					case 'EMBER':
					case 'EMBER-REFERENCES':
						$('article.projects div.content').load(contentUrl, function() {
							$('header span').text('~ Projects');
							contentReady.call(this);
						});
						break;
					case 'REFERENCE':
					case 'TOOLS':
					case 'EBOOKS':
					case 'JAVASCRIPT':
					case 'ASPNET-MVC':
					case 'HTML5-CSS3':
					case 'CSHARP-DOT-NET':
					case 'CLOUD':
					case 'IIS':
					case 'SECURITY':
					case 'SILVERLIGHT':
					case 'MISC':
					case 'DOCS':
						$('article.reference div.content').load(contentUrl, function() {
							$('header span').text('~ Reference');
							contentReady.call(this);
						});
						break;
					default : 
						$('header span').text('');
						$('article.home').removeClass('hidden');
						break;
				};				
			})

			// trigger the event on page load
			$(window).hashchange();
		});
	</script>
</body>
</html>
